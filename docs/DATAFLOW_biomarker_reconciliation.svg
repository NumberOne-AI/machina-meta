<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.2.1 (0)
 -->
<!-- Title: BiomarkerReconciliation Pages: 1 -->
<svg width="901pt" height="349pt"
 viewBox="0.00 0.00 901.25 348.88" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 344.88)">
<title>BiomarkerReconciliation</title>
<polygon fill="#f5f5f5" stroke="none" points="-4,4 -4,-344.88 897.25,-344.88 897.25,4 -4,4"/>
<!-- ExtractionPipeline -->
<g id="node1" class="node">
<title>ExtractionPipeline</title>
<polygon fill="wheat" stroke="black" points="116.5,-175.42 0,-175.42 0,-139.42 116.5,-139.42 116.5,-175.42"/>
<text text-anchor="middle" x="58.25" y="-153.14" font-family="Arial" font-size="12.00">Extraction Pipeline</text>
</g>
<!-- MedicalDataEngine -->
<g id="node2" class="node">
<title>MedicalDataEngine</title>
<polygon fill="palegreen" stroke="black" points="392.75,-175.42 265,-175.42 265,-139.42 392.75,-139.42 392.75,-175.42"/>
<text text-anchor="middle" x="328.88" y="-153.14" font-family="Arial" font-size="12.00">Medical Data Engine</text>
</g>
<!-- ExtractionPipeline&#45;&gt;MedicalDataEngine -->
<g id="edge1" class="edge">
<title>ExtractionPipeline&#45;&gt;MedicalDataEngine</title>
<path fill="none" stroke="black" d="M116.88,-157.42C156.78,-157.42 210.28,-157.42 253.41,-157.42"/>
<polygon fill="black" stroke="black" points="253.2,-160.92 263.2,-157.42 253.2,-153.92 253.2,-160.92"/>
<text text-anchor="middle" x="190.75" y="-171.92" font-family="Arial" font-size="10.00">DocumentResourcesNew</text>
<text text-anchor="middle" x="190.75" y="-159.92" font-family="Arial" font-size="10.00">(biomarkers)</text>
</g>
<!-- MedicalCatalog -->
<g id="node3" class="node">
<title>MedicalCatalog</title>
<polygon fill="lightpink" stroke="black" points="674.62,-281.67 571.62,-281.67 571.62,-245.17 674.62,-245.17 674.62,-281.67"/>
<text text-anchor="middle" x="623.12" y="-266.27" font-family="Arial" font-size="12.00">Medical Catalog</text>
<text text-anchor="middle" x="623.12" y="-252.02" font-family="Arial" font-size="12.00">Port 8001</text>
</g>
<!-- MedicalDataEngine&#45;&gt;MedicalCatalog -->
<g id="edge2" class="edge">
<title>MedicalDataEngine&#45;&gt;MedicalCatalog</title>
<path fill="none" stroke="black" d="M334.78,-175.66C343.96,-205.75 366.9,-264.86 410.75,-289.42 460.07,-317.04 525.88,-302.4 570.88,-286.12"/>
<polygon fill="black" stroke="black" points="572.04,-289.42 580.15,-282.61 569.56,-282.87 572.04,-289.42"/>
<text text-anchor="middle" x="468.88" y="-331.38" font-family="Arial" font-size="10.00">HTTP POST</text>
<text text-anchor="middle" x="468.88" y="-319.38" font-family="Arial" font-size="10.00">/biomarkers/search_batch</text>
<text text-anchor="middle" x="468.88" y="-307.38" font-family="Arial" font-size="10.00">For each biomarker</text>
</g>
<!-- Deduplication -->
<g id="node5" class="node">
<title>Deduplication</title>
<polygon fill="wheat" stroke="black" points="701.25,-165.67 545,-165.67 545,-129.17 701.25,-129.17 701.25,-165.67"/>
<text text-anchor="middle" x="623.12" y="-150.27" font-family="Arial" font-size="12.00">Deduplication Service</text>
<text text-anchor="middle" x="623.12" y="-136.02" font-family="Arial" font-size="12.00">Group by (catalog_id, unit)</text>
</g>
<!-- MedicalDataEngine&#45;&gt;Deduplication -->
<g id="edge6" class="edge">
<title>MedicalDataEngine&#45;&gt;Deduplication</title>
<path fill="none" stroke="black" d="M393.01,-159.13C399,-159.25 404.99,-159.35 410.75,-159.42 462.41,-160.06 475.43,-162.66 527,-159.42 529.06,-159.29 531.14,-159.14 533.24,-158.98"/>
<polygon fill="black" stroke="black" points="533.42,-162.48 543.08,-158.14 532.82,-155.51 533.42,-162.48"/>
<text text-anchor="middle" x="468.88" y="-163.51" font-family="Arial" font-size="10.00">Group biomarkers</text>
</g>
<!-- Neo4j -->
<g id="node6" class="node">
<title>Neo4j</title>
<path fill="skyblue" stroke="black" d="M659.62,-54.95C659.62,-57.47 643.27,-59.51 623.12,-59.51 602.98,-59.51 586.62,-57.47 586.62,-54.95 586.62,-54.95 586.62,-13.89 586.62,-13.89 586.62,-11.37 602.98,-9.32 623.12,-9.32 643.27,-9.32 659.62,-11.37 659.62,-13.89 659.62,-13.89 659.62,-54.95 659.62,-54.95"/>
<path fill="none" stroke="black" d="M659.62,-54.95C659.62,-52.43 643.27,-50.39 623.12,-50.39 602.98,-50.39 586.62,-52.43 586.62,-54.95"/>
<text text-anchor="middle" x="623.12" y="-37.27" font-family="Arial" font-size="12.00">Neo4j</text>
<text text-anchor="middle" x="623.12" y="-23.02" font-family="Arial" font-size="12.00">7474/7687</text>
</g>
<!-- MedicalDataEngine&#45;&gt;Neo4j -->
<g id="edge8" class="edge">
<title>MedicalDataEngine&#45;&gt;Neo4j</title>
<path fill="none" stroke="black" d="M340.01,-139.03C353.19,-117.04 378.41,-81.01 410.75,-63.42 461.97,-35.55 530.13,-30.99 575.03,-31.61"/>
<polygon fill="black" stroke="black" points="574.88,-35.11 584.96,-31.85 575.05,-28.11 574.88,-35.11"/>
<text text-anchor="middle" x="468.88" y="-113.92" font-family="Arial" font-size="10.00">Neo4j Bolt Protocol</text>
<text text-anchor="middle" x="468.88" y="-101.92" font-family="Arial" font-size="10.00">CREATE:</text>
<text text-anchor="middle" x="468.88" y="-89.92" font-family="Arial" font-size="10.00">1. ObservationTypeNodes</text>
<text text-anchor="middle" x="468.88" y="-77.92" font-family="Arial" font-size="10.00">2. ObservationValueNodes</text>
<text text-anchor="middle" x="468.88" y="-65.92" font-family="Arial" font-size="10.00">3. Relationships</text>
</g>
<!-- MedicalCatalog&#45;&gt;MedicalDataEngine -->
<g id="edge5" class="edge">
<title>MedicalCatalog&#45;&gt;MedicalDataEngine</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M590.76,-244.83C572.58,-234.59 549,-222.21 527,-213.42 504.45,-204.4 449.87,-189.07 403.84,-176.73"/>
<polygon fill="black" stroke="black" points="404.99,-173.41 394.42,-174.21 403.18,-180.17 404.99,-173.41"/>
<text text-anchor="middle" x="468.88" y="-275.92" font-family="Arial" font-size="10.00">HTTP 200</text>
<text text-anchor="middle" x="468.88" y="-263.92" font-family="Arial" font-size="10.00">BiomarkerEntryResult:</text>
<text text-anchor="middle" x="468.88" y="-251.92" font-family="Arial" font-size="10.00">&#45; catalog_id</text>
<text text-anchor="middle" x="468.88" y="-239.92" font-family="Arial" font-size="10.00">&#45; long_name, short_name</text>
<text text-anchor="middle" x="468.88" y="-227.92" font-family="Arial" font-size="10.00">&#45; unit_properties</text>
<text text-anchor="middle" x="468.88" y="-215.92" font-family="Arial" font-size="10.00">&#45; aliases</text>
</g>
<!-- Qdrant -->
<g id="node4" class="node">
<title>Qdrant</title>
<path fill="skyblue" stroke="black" d="M893.25,-282.95C893.25,-285.47 881.15,-287.51 866.25,-287.51 851.35,-287.51 839.25,-285.47 839.25,-282.95 839.25,-282.95 839.25,-241.89 839.25,-241.89 839.25,-239.37 851.35,-237.32 866.25,-237.32 881.15,-237.32 893.25,-239.37 893.25,-241.89 893.25,-241.89 893.25,-282.95 893.25,-282.95"/>
<path fill="none" stroke="black" d="M893.25,-282.95C893.25,-280.43 881.15,-278.39 866.25,-278.39 851.35,-278.39 839.25,-280.43 839.25,-282.95"/>
<text text-anchor="middle" x="866.25" y="-265.27" font-family="Arial" font-size="12.00">Qdrant</text>
<text text-anchor="middle" x="866.25" y="-251.02" font-family="Arial" font-size="12.00">6333</text>
</g>
<!-- MedicalCatalog&#45;&gt;Qdrant -->
<g id="edge3" class="edge">
<title>MedicalCatalog&#45;&gt;Qdrant</title>
<path fill="none" stroke="black" d="M674.97,-263.21C720.62,-263.02 786.58,-262.74 827.64,-262.57"/>
<polygon fill="black" stroke="black" points="827.53,-266.07 837.51,-262.53 827.5,-259.07 827.53,-266.07"/>
<text text-anchor="middle" x="770.25" y="-277.51" font-family="Arial" font-size="10.00">Qdrant gRPC</text>
<text text-anchor="middle" x="770.25" y="-265.51" font-family="Arial" font-size="10.00">Vector similarity search</text>
</g>
<!-- Qdrant&#45;&gt;MedicalCatalog -->
<g id="edge4" class="edge">
<title>Qdrant&#45;&gt;MedicalCatalog</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M839.14,-251.24C833.35,-249.24 827.17,-247.46 821.25,-246.42 776.45,-238.53 725.25,-243.35 686.26,-249.84"/>
<polygon fill="black" stroke="black" points="685.82,-246.37 676.58,-251.54 687.03,-253.26 685.82,-246.37"/>
<text text-anchor="middle" x="770.25" y="-248.92" font-family="Arial" font-size="10.00">Search results</text>
</g>
<!-- Deduplication&#45;&gt;MedicalDataEngine -->
<g id="edge7" class="edge">
<title>Deduplication&#45;&gt;MedicalDataEngine</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M544.98,-133.07C504.78,-127.74 454.92,-124.49 410.75,-131.42 403.87,-132.5 396.77,-134.06 389.77,-135.9"/>
<polygon fill="black" stroke="black" points="389.02,-132.48 380.35,-138.57 390.93,-139.21 389.02,-132.48"/>
<text text-anchor="middle" x="468.88" y="-145.92" font-family="Arial" font-size="10.00">Deduplicated biomarkers</text>
<text text-anchor="middle" x="468.88" y="-133.92" font-family="Arial" font-size="10.00">(merged by value + time)</text>
</g>
<!-- Neo4j&#45;&gt;MedicalDataEngine -->
<g id="edge9" class="edge">
<title>Neo4j&#45;&gt;MedicalDataEngine</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M586.5,-19.9C542.16,-4.32 465.59,14.24 410.75,-17.42 369.65,-41.14 347.56,-94.59 337.3,-128.16"/>
<polygon fill="black" stroke="black" points="333.97,-127.09 334.57,-137.66 340.69,-129.02 333.97,-127.09"/>
<text text-anchor="middle" x="468.88" y="-19.92" font-family="Arial" font-size="10.00">Success</text>
</g>
</g>
</svg>
