<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.2.1 (0)
 -->
<!-- Title: RealtimeChat Pages: 1 -->
<svg width="994pt" height="117pt"
 viewBox="0.00 0.00 994.25 116.54" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 112.54)">
<title>RealtimeChat</title>
<polygon fill="#f5f5f5" stroke="none" points="-4,4 -4,-112.54 990.25,-112.54 990.25,4 -4,4"/>
<!-- Browser -->
<g id="node1" class="node">
<title>Browser</title>
<polygon fill="lightblue" stroke="black" points="88,-60.09 0,-60.09 0,-24.09 88,-24.09 88,-60.09"/>
<text text-anchor="middle" x="44" y="-37.82" font-family="Arial" font-size="12.00">Web Browser</text>
</g>
<!-- NextJS -->
<g id="node2" class="node">
<title>NextJS</title>
<polygon fill="lightyellow" stroke="black" points="318.5,-60.34 214.75,-60.34 214.75,-23.84 318.5,-23.84 318.5,-60.34"/>
<text text-anchor="middle" x="266.62" y="-44.94" font-family="Arial" font-size="12.00">Next.js Frontend</text>
<text text-anchor="middle" x="266.62" y="-30.69" font-family="Arial" font-size="12.00">Port 3000</text>
</g>
<!-- Browser&#45;&gt;NextJS -->
<g id="edge1" class="edge">
<title>Browser&#45;&gt;NextJS</title>
<path fill="none" stroke="black" d="M88.32,-43.69C94.26,-43.86 100.28,-44 106,-44.09 146.33,-44.75 156.42,-44.68 196.75,-44.09 198.81,-44.06 200.91,-44.03 203.03,-43.99"/>
<polygon fill="black" stroke="black" points="203.04,-47.49 212.96,-43.78 202.89,-40.49 203.04,-47.49"/>
<text text-anchor="middle" x="151.38" y="-47.06" font-family="Arial" font-size="10.00">User types message</text>
</g>
<!-- NextJS&#45;&gt;Browser -->
<g id="edge7" class="edge">
<title>NextJS&#45;&gt;Browser</title>
<path fill="none" stroke="red" stroke-dasharray="5,2" d="M223.32,-23.41C214.69,-20.37 205.55,-17.7 196.75,-16.09 157.07,-8.85 145.52,-8.02 106,-16.09 101.43,-17.03 96.78,-18.32 92.19,-19.82"/>
<polygon fill="red" stroke="red" points="91.26,-16.44 83.07,-23.16 93.67,-23.01 91.26,-16.44"/>
<text text-anchor="middle" x="151.38" y="-30.59" font-family="Arial" font-size="10.00">DOM update</text>
<text text-anchor="middle" x="151.38" y="-18.59" font-family="Arial" font-size="10.00">Show chunks</text>
</g>
<!-- FastAPI -->
<g id="node3" class="node">
<title>FastAPI</title>
<polygon fill="lightgreen" stroke="black" points="559.5,-60.34 450.5,-60.34 450.5,-23.84 559.5,-23.84 559.5,-60.34"/>
<text text-anchor="middle" x="505" y="-44.94" font-family="Arial" font-size="12.00">FastAPI Backend</text>
<text text-anchor="middle" x="505" y="-30.69" font-family="Arial" font-size="12.00">Port 8000</text>
</g>
<!-- NextJS&#45;&gt;FastAPI -->
<g id="edge2" class="edge">
<title>NextJS&#45;&gt;FastAPI</title>
<path fill="none" stroke="black" d="M312.21,-60.81C320.17,-63.42 328.48,-65.68 336.5,-67.09 378.52,-74.48 390.44,-74.24 432.5,-67.09 437.17,-66.3 441.94,-65.24 446.68,-63.99"/>
<polygon fill="black" stroke="black" points="447.59,-67.38 456.22,-61.23 445.64,-60.65 447.59,-67.38"/>
<text text-anchor="middle" x="384.5" y="-99.04" font-family="Arial" font-size="10.00">HTTP POST</text>
<text text-anchor="middle" x="384.5" y="-87.04" font-family="Arial" font-size="10.00">/api/v1/medical&#45;agent/</text>
<text text-anchor="middle" x="384.5" y="-75.04" font-family="Arial" font-size="10.00">session/ID/send</text>
</g>
<!-- FastAPI&#45;&gt;NextJS -->
<g id="edge6" class="edge">
<title>FastAPI&#45;&gt;NextJS</title>
<path fill="none" stroke="red" stroke-dasharray="5,2" d="M450.13,-39.59C444.18,-39.39 438.21,-39.21 432.5,-39.09 389.84,-38.2 379.16,-38.17 336.5,-39.09 334.44,-39.14 332.34,-39.19 330.22,-39.25"/>
<polygon fill="red" stroke="red" points="330.16,-35.75 320.28,-39.57 330.39,-42.75 330.16,-35.75"/>
<text text-anchor="middle" x="384.5" y="-53.59" font-family="Arial" font-size="10.00">Server&#45;Sent Events</text>
<text text-anchor="middle" x="384.5" y="-41.59" font-family="Arial" font-size="10.00">Streaming response</text>
</g>
<!-- FastAPI&#45;&gt;NextJS -->
<g id="edge9" class="edge">
<title>FastAPI&#45;&gt;NextJS</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M470.09,-23.41C458.51,-18 445.27,-12.82 432.5,-10.09 390.77,-1.18 378.16,-0.89 336.5,-10.09 327.81,-12.01 318.91,-15.15 310.52,-18.72"/>
<polygon fill="black" stroke="black" points="309.24,-15.45 301.6,-22.79 312.15,-21.82 309.24,-15.45"/>
<text text-anchor="middle" x="384.5" y="-24.59" font-family="Arial" font-size="10.00">HTTP 200</text>
<text text-anchor="middle" x="384.5" y="-12.59" font-family="Arial" font-size="10.00">JSON complete</text>
</g>
<!-- AgentSystem -->
<g id="node4" class="node">
<title>AgentSystem</title>
<polygon fill="lightcyan" stroke="black" points="783.88,-87.34 693.62,-87.34 693.62,-50.84 783.88,-50.84 783.88,-87.34"/>
<text text-anchor="middle" x="738.75" y="-71.94" font-family="Arial" font-size="12.00">Agent System</text>
<text text-anchor="middle" x="738.75" y="-57.69" font-family="Arial" font-size="12.00">23 agents</text>
</g>
<!-- FastAPI&#45;&gt;AgentSystem -->
<g id="edge3" class="edge">
<title>FastAPI&#45;&gt;AgentSystem</title>
<path fill="none" stroke="black" d="M559.79,-52.43C565.75,-53.41 571.75,-54.32 577.5,-55.09 612.11,-59.74 651.13,-63.19 682.01,-65.5"/>
<polygon fill="black" stroke="black" points="681.68,-68.98 691.91,-66.22 682.19,-62 681.68,-68.98"/>
<text text-anchor="middle" x="620.25" y="-78.29" font-family="Arial" font-size="10.00">Python call</text>
<text text-anchor="middle" x="620.25" y="-66.29" font-family="Arial" font-size="10.00">process_message()</text>
</g>
<!-- AgentSystem&#45;&gt;FastAPI -->
<g id="edge8" class="edge">
<title>AgentSystem&#45;&gt;FastAPI</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M697.82,-50.48C686.78,-46.2 674.63,-42.27 663,-40.09 633.21,-34.52 599.68,-34.16 571.28,-35.54"/>
<polygon fill="black" stroke="black" points="571.15,-32.05 561.37,-36.12 571.56,-39.03 571.15,-32.05"/>
<text text-anchor="middle" x="620.25" y="-42.59" font-family="Arial" font-size="10.00">Final response</text>
</g>
<!-- Redis -->
<g id="node5" class="node">
<title>Redis</title>
<path fill="skyblue" stroke="black" d="M986.25,-45.62C986.25,-48.14 974.15,-50.19 959.25,-50.19 944.35,-50.19 932.25,-48.14 932.25,-45.62 932.25,-45.62 932.25,-4.56 932.25,-4.56 932.25,-2.04 944.35,0 959.25,0 974.15,0 986.25,-2.04 986.25,-4.56 986.25,-4.56 986.25,-45.62 986.25,-45.62"/>
<path fill="none" stroke="black" d="M986.25,-45.62C986.25,-43.11 974.15,-41.06 959.25,-41.06 944.35,-41.06 932.25,-43.11 932.25,-45.62"/>
<text text-anchor="middle" x="959.25" y="-27.94" font-family="Arial" font-size="12.00">Redis</text>
<text text-anchor="middle" x="959.25" y="-13.69" font-family="Arial" font-size="12.00">6379</text>
</g>
<!-- AgentSystem&#45;&gt;Redis -->
<g id="edge4" class="edge">
<title>AgentSystem&#45;&gt;Redis</title>
<path fill="none" stroke="red" d="M784.23,-60.14C824.49,-52.03 883.11,-40.23 920.96,-32.6"/>
<polygon fill="red" stroke="red" points="921.4,-36.08 930.52,-30.68 920.02,-29.22 921.4,-36.08"/>
<text text-anchor="middle" x="864.38" y="-80.11" font-family="Arial" font-size="10.00">Redis Protocol</text>
<text text-anchor="middle" x="864.38" y="-68.11" font-family="Arial" font-size="10.00">PUBLISH agent_event</text>
<text text-anchor="middle" x="864.38" y="-56.11" font-family="Arial" font-size="10.00">(streaming chunks)</text>
</g>
<!-- Redis&#45;&gt;FastAPI -->
<g id="edge5" class="edge">
<title>Redis&#45;&gt;FastAPI</title>
<path fill="none" stroke="red" d="M931.93,-23.6C899.93,-21.87 844.27,-19.13 796.5,-18.09 745.18,-16.98 732.23,-14.89 681,-18.09 634.73,-20.99 623.42,-24.68 577.5,-31.09 575.35,-31.39 573.17,-31.7 570.97,-32.02"/>
<polygon fill="red" stroke="red" points="570.74,-28.52 561.35,-33.43 571.75,-35.44 570.74,-28.52"/>
<text text-anchor="middle" x="738.75" y="-32.59" font-family="Arial" font-size="10.00">Redis Protocol</text>
<text text-anchor="middle" x="738.75" y="-20.59" font-family="Arial" font-size="10.00">SUBSCRIBE agent_event</text>
</g>
</g>
</svg>
