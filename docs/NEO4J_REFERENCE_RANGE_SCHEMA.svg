<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.2.1 (0)
 -->
<!-- Title: BiomarkerSchema Pages: 1 -->
<svg width="1169pt" height="703pt"
 viewBox="0.00 0.00 1169.00 702.75" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 698.75)">
<title>BiomarkerSchema</title>
<polygon fill="#f5f5f5" stroke="none" points="-4,4 -4,-698.75 1165,-698.75 1165,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_schema</title>
<polygon fill="#e8f4e8" stroke="black" points="8,-8 8,-631.25 338,-631.25 338,-8 8,-8"/>
<text text-anchor="middle" x="173" y="-613.95" font-family="Arial" font-size="14.00">Neo4j Schema Structure</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_example</title>
<polygon fill="#f4f4e8" stroke="black" points="346,-36.5 346,-595.62 821,-595.62 821,-36.5 346,-36.5"/>
<text text-anchor="middle" x="583.5" y="-578.33" font-family="Arial" font-size="14.00">Example: Total Cholesterol with values 163 (in&#45;range) and 220 (out&#45;of&#45;range)</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_legend</title>
<polygon fill="white" stroke="black" points="829,-412.5 829,-686.75 1153,-686.75 1153,-412.5 829,-412.5"/>
<text text-anchor="middle" x="991" y="-671.35" font-family="Arial" font-size="12.00">Legend</text>
</g>
<!-- ObservationType -->
<g id="node1" class="node">
<title>ObservationType</title>
<polygon fill="lightgreen" stroke="black" points="210,-599.5 62,-599.5 62,-477.5 210,-477.5 210,-599.5"/>
<text text-anchor="middle" x="136" y="-584.1" font-family="Arial" font-size="12.00">ObservationTypeNode</text>
<text text-anchor="middle" x="136" y="-569.85" font-family="Arial" font-size="12.00">────────────────</text>
<text text-anchor="middle" x="136" y="-555.6" font-family="Arial" font-size="12.00">uuid</text>
<text text-anchor="middle" x="136" y="-541.35" font-family="Arial" font-size="12.00">name</text>
<text text-anchor="middle" x="136" y="-527.1" font-family="Arial" font-size="12.00">display_name</text>
<text text-anchor="middle" x="136" y="-512.85" font-family="Arial" font-size="12.00">catalog_id</text>
<text text-anchor="middle" x="136" y="-498.6" font-family="Arial" font-size="12.00">loinc_code</text>
<text text-anchor="middle" x="136" y="-484.35" font-family="Arial" font-size="12.00">unit</text>
</g>
<!-- ObservationValue -->
<g id="node2" class="node">
<title>ObservationValue</title>
<polygon fill="lightyellow" stroke="black" points="164,-360.5 16,-360.5 16,-224.25 164,-224.25 164,-360.5"/>
<text text-anchor="middle" x="90" y="-345.1" font-family="Arial" font-size="12.00">ObservationValueNode</text>
<text text-anchor="middle" x="90" y="-330.85" font-family="Arial" font-size="12.00">────────────────</text>
<text text-anchor="middle" x="90" y="-316.6" font-family="Arial" font-size="12.00">uuid</text>
<text text-anchor="middle" x="90" y="-302.35" font-family="Arial" font-size="12.00">patient_id</text>
<text text-anchor="middle" x="90" y="-288.1" font-family="Arial" font-size="12.00">value_numeric</text>
<text text-anchor="middle" x="90" y="-273.85" font-family="Arial" font-size="12.00">value_text</text>
<text text-anchor="middle" x="90" y="-259.6" font-family="Arial" font-size="12.00">observed_at</text>
<text text-anchor="middle" x="90" y="-245.35" font-family="Arial" font-size="12.00">unit</text>
<text text-anchor="middle" x="90" y="-231.1" font-family="Arial" font-size="12.00">source_type</text>
</g>
<!-- ObservationType&#45;&gt;ObservationValue -->
<g id="edge1" class="edge">
<title>ObservationType&#45;&gt;ObservationValue</title>
<path fill="none" stroke="black" stroke-width="2" d="M122.55,-466.13C116.29,-432.87 108.87,-393.51 102.7,-360.76"/>
<polygon fill="black" stroke="black" stroke-width="2" points="118.78,-465 124.07,-474.18 125.66,-463.7 118.78,-465"/>
<text text-anchor="middle" x="145.12" y="-393" font-family="Arial" font-size="10.00">INSTANCE_OF</text>
<text text-anchor="middle" x="145.12" y="-381" font-family="Arial" font-size="10.00">(value → type)</text>
</g>
<!-- ReferenceRange -->
<g id="node3" class="node">
<title>ReferenceRange</title>
<polygon fill="lightblue" stroke="black" points="330,-360.5 182,-360.5 182,-224.25 330,-224.25 330,-360.5"/>
<text text-anchor="middle" x="256" y="-345.1" font-family="Arial" font-size="12.00">ReferenceRangeNode</text>
<text text-anchor="middle" x="256" y="-330.85" font-family="Arial" font-size="12.00">────────────────</text>
<text text-anchor="middle" x="256" y="-316.6" font-family="Arial" font-size="12.00">uuid</text>
<text text-anchor="middle" x="256" y="-302.35" font-family="Arial" font-size="12.00">name</text>
<text text-anchor="middle" x="256" y="-288.1" font-family="Arial" font-size="12.00">range_type</text>
<text text-anchor="middle" x="256" y="-273.85" font-family="Arial" font-size="12.00">source_type</text>
<text text-anchor="middle" x="256" y="-259.6" font-family="Arial" font-size="12.00">source_id</text>
<text text-anchor="middle" x="256" y="-245.35" font-family="Arial" font-size="12.00">intervals_json</text>
<text text-anchor="middle" x="256" y="-231.1" font-family="Arial" font-size="12.00">patient_id (optional)</text>
</g>
<!-- ObservationType&#45;&gt;ReferenceRange -->
<g id="edge2" class="edge">
<title>ObservationType&#45;&gt;ReferenceRange</title>
<path fill="none" stroke="black" stroke-width="2" d="M165.66,-477.15C181.46,-445.03 201.05,-405.16 217.95,-370.77"/>
<polygon fill="black" stroke="black" stroke-width="2" points="220.27,-374 221.54,-363.48 213.99,-370.91 220.27,-374"/>
<text text-anchor="middle" x="252.76" y="-393" font-family="Arial" font-size="10.00">HAS_RANGE</text>
<text text-anchor="middle" x="252.76" y="-381" font-family="Arial" font-size="10.00">(type owns range)</text>
</g>
<!-- RangeInterval -->
<g id="node4" class="node">
<title>RangeInterval</title>
<polygon fill="lightcyan" stroke="black" points="256.5,-152.25 81.5,-152.25 81.5,-16 256.5,-16 256.5,-152.25"/>
<text text-anchor="middle" x="169" y="-136.85" font-family="Arial" font-size="12.00">RangeIntervalNode</text>
<text text-anchor="middle" x="169" y="-122.6" font-family="Arial" font-size="12.00">────────────────</text>
<text text-anchor="middle" x="169" y="-108.35" font-family="Arial" font-size="12.00">uuid</text>
<text text-anchor="middle" x="169" y="-94.1" font-family="Arial" font-size="12.00">category</text>
<text text-anchor="middle" x="169" y="-79.85" font-family="Arial" font-size="12.00">color</text>
<text text-anchor="middle" x="169" y="-65.6" font-family="Arial" font-size="12.00">low / high</text>
<text text-anchor="middle" x="169" y="-51.35" font-family="Arial" font-size="12.00">low_inclusive / high_inclusive</text>
<text text-anchor="middle" x="169" y="-37.1" font-family="Arial" font-size="12.00">text</text>
<text text-anchor="middle" x="169" y="-22.85" font-family="Arial" font-size="12.00">is_synthetic</text>
</g>
<!-- ObservationValue&#45;&gt;RangeInterval -->
<g id="edge4" class="edge">
<title>ObservationValue&#45;&gt;RangeInterval</title>
<path fill="none" stroke="blue" stroke-width="2" d="M103.89,-224.04C108.46,-206.25 114.16,-187.27 121,-170.25 121.99,-167.79 123.03,-165.32 124.13,-162.84"/>
<polygon fill="blue" stroke="blue" stroke-width="2" points="126.55,-165.93 127.58,-155.39 120.2,-162.99 126.55,-165.93"/>
<text text-anchor="middle" x="172" y="-196.75" font-family="Arial" font-size="10.00">MATCHES_INTERVAL</text>
<text text-anchor="middle" x="172" y="-184.75" font-family="Arial" font-size="10.00">(value links to</text>
<text text-anchor="middle" x="172" y="-172.75" font-family="Arial" font-size="10.00">MATCHED interval)</text>
</g>
<!-- ReferenceRange&#45;&gt;RangeInterval -->
<g id="edge3" class="edge">
<title>ReferenceRange&#45;&gt;RangeInterval</title>
<path fill="none" stroke="darkgreen" stroke-width="2" d="M241.42,-223.81C236.56,-206.02 230.44,-187.1 223,-170.25 221.86,-167.66 220.64,-165.05 219.37,-162.45"/>
<polygon fill="darkgreen" stroke="darkgreen" stroke-width="2" points="223.28,-162.4 215.59,-155.11 217.06,-165.61 223.28,-162.4"/>
<text text-anchor="middle" x="273.26" y="-196.75" font-family="Arial" font-size="10.00">HAS_INTERVAL</text>
<text text-anchor="middle" x="273.26" y="-184.75" font-family="Arial" font-size="10.00">(range owns ALL</text>
<text text-anchor="middle" x="273.26" y="-172.75" font-family="Arial" font-size="10.00">intervals)</text>
</g>
<!-- CholesterolType -->
<g id="node5" class="node">
<title>CholesterolType</title>
<polygon fill="lightgreen" stroke="black" points="648,-563.88 512,-563.88 512,-513.12 648,-513.12 648,-563.88"/>
<text text-anchor="middle" x="580" y="-548.48" font-family="Arial" font-size="12.00">ObservationTypeNode</text>
<text text-anchor="middle" x="580" y="-534.23" font-family="Arial" font-size="12.00">&quot;Total Cholesterol&quot;</text>
<text text-anchor="middle" x="580" y="-519.98" font-family="Arial" font-size="12.00">unit: mg/dL</text>
</g>
<!-- CholesterolRange -->
<g id="node6" class="node">
<title>CholesterolRange</title>
<polygon fill="lightblue" stroke="black" points="648.38,-317.75 511.62,-317.75 511.62,-267 648.38,-267 648.38,-317.75"/>
<text text-anchor="middle" x="580" y="-302.35" font-family="Arial" font-size="12.00">ReferenceRangeNode</text>
<text text-anchor="middle" x="580" y="-288.1" font-family="Arial" font-size="12.00">range_type: document</text>
<text text-anchor="middle" x="580" y="-273.85" font-family="Arial" font-size="12.00">intervals_json: [...]</text>
</g>
<!-- CholesterolType&#45;&gt;CholesterolRange -->
<g id="edge7" class="edge">
<title>CholesterolType&#45;&gt;CholesterolRange</title>
<path fill="none" stroke="black" d="M580,-512.75C580,-469.43 580,-379.72 580,-329.47"/>
<polygon fill="black" stroke="black" points="583.5,-329.71 580,-319.71 576.5,-329.71 583.5,-329.71"/>
<text text-anchor="middle" x="611.12" y="-387" font-family="Arial" font-size="10.00">HAS_RANGE</text>
</g>
<!-- Value163 -->
<g id="node7" class="node">
<title>Value163</title>
<polygon fill="#90ee90" stroke="black" points="493.88,-317.75 354.12,-317.75 354.12,-267 493.88,-267 493.88,-317.75"/>
<text text-anchor="middle" x="424" y="-302.35" font-family="Arial" font-size="12.00">ObservationValueNode</text>
<text text-anchor="middle" x="424" y="-288.1" font-family="Arial" font-size="12.00">value: 163 mg/dL</text>
<text text-anchor="middle" x="424" y="-273.85" font-family="Arial" font-size="12.00">IN&#45;RANGE</text>
</g>
<!-- CholesterolType&#45;&gt;Value163 -->
<g id="edge5" class="edge">
<title>CholesterolType&#45;&gt;Value163</title>
<path fill="none" stroke="black" d="M557.99,-503.06C526.11,-453.17 467.86,-362.01 439.86,-318.19"/>
<polygon fill="black" stroke="black" points="555.03,-504.93 563.37,-511.47 560.93,-501.16 555.03,-504.93"/>
<text text-anchor="middle" x="527.53" y="-387" font-family="Arial" font-size="10.00">INSTANCE_OF</text>
</g>
<!-- Value220 -->
<g id="node8" class="node">
<title>Value220</title>
<polygon fill="#ffb6c1" stroke="black" points="805.88,-317.75 666.12,-317.75 666.12,-267 805.88,-267 805.88,-317.75"/>
<text text-anchor="middle" x="736" y="-302.35" font-family="Arial" font-size="12.00">ObservationValueNode</text>
<text text-anchor="middle" x="736" y="-288.1" font-family="Arial" font-size="12.00">value: 220 mg/dL</text>
<text text-anchor="middle" x="736" y="-273.85" font-family="Arial" font-size="12.00">OUT&#45;OF&#45;RANGE</text>
</g>
<!-- CholesterolType&#45;&gt;Value220 -->
<g id="edge6" class="edge">
<title>CholesterolType&#45;&gt;Value220</title>
<path fill="none" stroke="black" d="M602.01,-503.06C633.89,-453.17 692.14,-362.01 720.14,-318.19"/>
<polygon fill="black" stroke="black" points="599.07,-501.16 596.63,-511.47 604.97,-504.93 599.07,-501.16"/>
<text text-anchor="middle" x="715.96" y="-387" font-family="Arial" font-size="10.00">INSTANCE_OF</text>
</g>
<!-- Interval1 -->
<g id="node9" class="node">
<title>Interval1</title>
<polygon fill="#32cd32" stroke="black" points="541.12,-123.75 420.88,-123.75 420.88,-44.5 541.12,-44.5 541.12,-123.75"/>
<text text-anchor="middle" x="481" y="-108.35" font-family="Arial" font-size="12.00" fill="white">RangeIntervalNode</text>
<text text-anchor="middle" x="481" y="-94.1" font-family="Arial" font-size="12.00" fill="white">text: &quot;&lt;200&quot;</text>
<text text-anchor="middle" x="481" y="-79.85" font-family="Arial" font-size="12.00" fill="white">category: Normal</text>
<text text-anchor="middle" x="481" y="-65.6" font-family="Arial" font-size="12.00" fill="white">color: green</text>
<text text-anchor="middle" x="481" y="-51.35" font-family="Arial" font-size="12.00" fill="white">is_synthetic: false</text>
</g>
<!-- CholesterolRange&#45;&gt;Interval1 -->
<g id="edge8" class="edge">
<title>CholesterolRange&#45;&gt;Interval1</title>
<path fill="none" stroke="darkgreen" d="M562.15,-266.5C550.78,-249.96 536.27,-227.44 525.75,-206.25 514.5,-183.57 504.46,-157.34 496.76,-135.09"/>
<polygon fill="darkgreen" stroke="darkgreen" points="500.08,-133.97 493.55,-125.63 493.45,-136.22 500.08,-133.97"/>
<text text-anchor="middle" x="562.88" y="-184.75" font-family="Arial" font-size="10.00">HAS_INTERVAL</text>
</g>
<!-- Interval2 -->
<g id="node10" class="node">
<title>Interval2</title>
<polygon fill="#dc143c" stroke="black" points="710.12,-123.75 589.88,-123.75 589.88,-44.5 710.12,-44.5 710.12,-123.75"/>
<text text-anchor="middle" x="650" y="-108.35" font-family="Arial" font-size="12.00" fill="white">RangeIntervalNode</text>
<text text-anchor="middle" x="650" y="-94.1" font-family="Arial" font-size="12.00" fill="white">text: &quot;&gt;=200&quot;</text>
<text text-anchor="middle" x="650" y="-79.85" font-family="Arial" font-size="12.00" fill="white">category: High</text>
<text text-anchor="middle" x="650" y="-65.6" font-family="Arial" font-size="12.00" fill="white">color: red</text>
<text text-anchor="middle" x="650" y="-51.35" font-family="Arial" font-size="12.00" fill="white">is_synthetic: true</text>
</g>
<!-- CholesterolRange&#45;&gt;Interval2 -->
<g id="edge9" class="edge">
<title>CholesterolRange&#45;&gt;Interval2</title>
<path fill="none" stroke="darkgreen" d="M586.25,-266.53C592.65,-241.86 603.28,-203.09 614.75,-170.25 618.83,-158.57 623.66,-146.18 628.42,-134.58"/>
<polygon fill="darkgreen" stroke="darkgreen" points="631.55,-136.16 632.16,-125.58 625.09,-133.47 631.55,-136.16"/>
<text text-anchor="middle" x="651.88" y="-184.75" font-family="Arial" font-size="10.00">HAS_INTERVAL</text>
</g>
<!-- Value163&#45;&gt;Interval1 -->
<g id="edge10" class="edge">
<title>Value163&#45;&gt;Interval1</title>
<path fill="none" stroke="blue" stroke-width="2" d="M408.47,-266.54C394.94,-241.55 379.44,-202.23 393,-170.25 398.83,-156.49 408.1,-143.87 418.48,-132.79"/>
<polygon fill="blue" stroke="blue" stroke-width="2" points="420.67,-135.55 425.26,-126.01 415.72,-130.61 420.67,-135.55"/>
<text text-anchor="middle" x="444" y="-190.75" font-family="Arial" font-size="10.00">MATCHES_INTERVAL</text>
<text text-anchor="middle" x="444" y="-178.75" font-family="Arial" font-size="10.00">(163 &lt; 200)</text>
</g>
<!-- Value220&#45;&gt;Interval2 -->
<g id="edge11" class="edge">
<title>Value220&#45;&gt;Interval2</title>
<path fill="none" stroke="blue" stroke-width="2" d="M726.88,-266.61C717.71,-242.01 702.96,-203.29 689,-170.25 684.21,-158.91 678.84,-146.84 673.66,-135.45"/>
<polygon fill="blue" stroke="blue" stroke-width="2" points="676.97,-134.28 669.61,-126.65 670.61,-137.2 676.97,-134.28"/>
<text text-anchor="middle" x="753.52" y="-190.75" font-family="Arial" font-size="10.00">MATCHES_INTERVAL</text>
<text text-anchor="middle" x="753.52" y="-178.75" font-family="Arial" font-size="10.00">(220 &gt;= 200)</text>
</g>
<!-- legend -->
<g id="node11" class="node">
<title>legend</title>
<polygon fill="white" stroke="black" points="1139.25,-656.5 836.75,-656.5 836.75,-420.5 1145.25,-420.5 1145.25,-650.5 1139.25,-656.5"/>
<polyline fill="none" stroke="black" points="1139.25,-656.5 1139.25,-650.5"/>
<polyline fill="none" stroke="black" points="1145.25,-650.5 1139.25,-650.5"/>
<text text-anchor="middle" x="991" y="-643" font-family="Arial" font-size="10.00">Relationships:</text>
<text text-anchor="middle" x="991" y="-619" font-family="Arial" font-size="10.00">• INSTANCE_OF: Value is instance of observation type</text>
<text text-anchor="middle" x="991" y="-607" font-family="Arial" font-size="10.00">• HAS_RANGE: Type owns its reference range</text>
<text text-anchor="middle" x="991" y="-595" font-family="Arial" font-size="10.00">• HAS_INTERVAL: Range owns ALL intervals (original + synthetic)</text>
<text text-anchor="middle" x="991" y="-583" font-family="Arial" font-size="10.00">• MATCHES_INTERVAL: Value links to ONE matched interval</text>
<text text-anchor="middle" x="991" y="-559" font-family="Arial" font-size="10.00">Interval Categories &amp; Colors:</text>
<text text-anchor="middle" x="991" y="-535" font-family="Arial" font-size="10.00">• green: Normal, Optimal, Ideal (in&#45;range)</text>
<text text-anchor="middle" x="991" y="-523" font-family="Arial" font-size="10.00">• yellow: Borderline, Elevated</text>
<text text-anchor="middle" x="991" y="-511" font-family="Arial" font-size="10.00">• red: High, Low, Abnormal (out&#45;of&#45;range)</text>
<text text-anchor="middle" x="991" y="-499" font-family="Arial" font-size="10.00">• white/null: No reference range available</text>
<text text-anchor="middle" x="991" y="-475" font-family="Arial" font-size="10.00">Synthetic Intervals:</text>
<text text-anchor="middle" x="991" y="-451" font-family="Arial" font-size="10.00">• is_synthetic=true: Auto&#45;generated for complete coverage</text>
<text text-anchor="middle" x="991" y="-439" font-family="Arial" font-size="10.00">• Covers values outside original document ranges</text>
<text text-anchor="middle" x="991" y="-427" font-family="Arial" font-size="10.00">• Ensures every value matches exactly one interval</text>
</g>
</g>
</svg>
