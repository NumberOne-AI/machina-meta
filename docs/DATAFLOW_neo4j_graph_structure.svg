<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.2.1 (0)
 -->
<!-- Title: Neo4jGraphStructure Pages: 1 -->
<svg width="734pt" height="374pt"
 viewBox="0.00 0.00 733.50 373.75" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 369.75)">
<title>Neo4jGraphStructure</title>
<polygon fill="#f5f5f5" stroke="none" points="-4,4 -4,-369.75 729.5,-369.75 729.5,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_instance</title>
<polygon fill="mistyrose" stroke="black" points="71.12,-8 71.12,-250 478,-250 478,-8 71.12,-8"/>
<text text-anchor="middle" x="274.56" y="-232.7" font-family="Arial" font-size="14.00">Instance Layer (Patient&#45;Specific)</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_type</title>
<polygon fill="lightgreen" stroke="black" points="519.75,-29 519.75,-229 725.5,-229 725.5,-29 519.75,-29"/>
<text text-anchor="middle" x="622.62" y="-211.7" font-family="Arial" font-size="14.00">Type Layer (Shared Definitions)</text>
</g>
<!-- Patient -->
<g id="node1" class="node">
<title>Patient</title>
<polygon fill="#ffccbc" stroke="black" points="147.62,-142.38 79.12,-142.38 79.12,-91.62 147.62,-91.62 147.62,-142.38"/>
<text text-anchor="middle" x="113.38" y="-126.97" font-family="Arial" font-size="12.00">Patient</text>
<text text-anchor="middle" x="113.38" y="-112.72" font-family="Arial" font-size="12.00">uuid</text>
<text text-anchor="middle" x="113.38" y="-98.47" font-family="Arial" font-size="12.00">patient_id</text>
</g>
<!-- ConditionCase -->
<g id="node2" class="node">
<title>ConditionCase</title>
<polygon fill="#ffccbc" stroke="black" points="462.88,-218.38 366.62,-218.38 366.62,-167.62 462.88,-167.62 462.88,-218.38"/>
<text text-anchor="middle" x="414.75" y="-202.97" font-family="Arial" font-size="12.00">ConditionCase</text>
<text text-anchor="middle" x="414.75" y="-188.72" font-family="Arial" font-size="12.00">uuid</text>
<text text-anchor="middle" x="414.75" y="-174.47" font-family="Arial" font-size="12.00">patient_id</text>
</g>
<!-- Patient&#45;&gt;ConditionCase -->
<g id="edge1" class="edge">
<title>Patient&#45;&gt;ConditionCase</title>
<path fill="none" stroke="black" d="M147.85,-125.5C197.98,-138.22 293.26,-162.41 355.11,-178.11"/>
<polygon fill="black" stroke="black" points="354.23,-181.5 364.78,-180.57 355.95,-174.72 354.23,-181.5"/>
<text text-anchor="middle" x="293.12" y="-177.13" font-family="Arial" font-size="10.00">HAS_CONDITION</text>
</g>
<!-- Observation -->
<g id="node3" class="node">
<title>Observation</title>
<polygon fill="#ffccbc" stroke="black" points="455,-149.5 374.5,-149.5 374.5,-84.5 455,-84.5 455,-149.5"/>
<text text-anchor="middle" x="414.75" y="-134.1" font-family="Arial" font-size="12.00">Observation</text>
<text text-anchor="middle" x="414.75" y="-119.85" font-family="Arial" font-size="12.00">uuid</text>
<text text-anchor="middle" x="414.75" y="-105.6" font-family="Arial" font-size="12.00">value</text>
<text text-anchor="middle" x="414.75" y="-91.35" font-family="Arial" font-size="12.00">date</text>
</g>
<!-- Patient&#45;&gt;Observation -->
<g id="edge2" class="edge">
<title>Patient&#45;&gt;Observation</title>
<path fill="none" stroke="black" d="M147.85,-117C200.17,-117 301.67,-117 363.02,-117"/>
<polygon fill="black" stroke="black" points="362.84,-120.5 372.84,-117 362.84,-113.5 362.84,-120.5"/>
<text text-anchor="middle" x="293.12" y="-119.5" font-family="Arial" font-size="10.00">HAS_OBSERVATION</text>
</g>
<!-- SymptomEpisode -->
<g id="node4" class="node">
<title>SymptomEpisode</title>
<polygon fill="#ffccbc" stroke="black" points="470,-66.38 359.5,-66.38 359.5,-15.62 470,-15.62 470,-66.38"/>
<text text-anchor="middle" x="414.75" y="-50.98" font-family="Arial" font-size="12.00">SymptomEpisode</text>
<text text-anchor="middle" x="414.75" y="-36.73" font-family="Arial" font-size="12.00">uuid</text>
<text text-anchor="middle" x="414.75" y="-22.48" font-family="Arial" font-size="12.00">severity</text>
</g>
<!-- Patient&#45;&gt;SymptomEpisode -->
<g id="edge3" class="edge">
<title>Patient&#45;&gt;SymptomEpisode</title>
<path fill="none" stroke="black" d="M147.85,-108.5C196.21,-96.23 286.6,-73.28 348.45,-57.58"/>
<polygon fill="black" stroke="black" points="348.97,-61.06 357.8,-55.2 347.24,-54.27 348.97,-61.06"/>
<text text-anchor="middle" x="293.12" y="-86.05" font-family="Arial" font-size="10.00">HAS_SYMPTOM</text>
</g>
<!-- ConditionType -->
<g id="node5" class="node">
<title>ConditionType</title>
<polygon fill="#c5e1a5" stroke="black" points="672.12,-197.25 572.12,-197.25 572.12,-160.75 672.12,-160.75 672.12,-197.25"/>
<text text-anchor="middle" x="622.12" y="-181.85" font-family="Arial" font-size="12.00">ConditionType</text>
<text text-anchor="middle" x="622.12" y="-167.6" font-family="Arial" font-size="12.00">name: Diabetes</text>
</g>
<!-- ConditionCase&#45;&gt;ConditionType -->
<g id="edge4" class="edge">
<title>ConditionCase&#45;&gt;ConditionType</title>
<path fill="none" stroke="black" d="M463.13,-189.77C492.14,-187.79 529.55,-185.24 560.68,-183.12"/>
<polygon fill="black" stroke="black" points="560.6,-186.63 570.33,-182.46 560.12,-179.65 560.6,-186.63"/>
<text text-anchor="middle" x="498.88" y="-190.57" font-family="Arial" font-size="10.00">IS_A</text>
</g>
<!-- ObservationType -->
<g id="node6" class="node">
<title>ObservationType</title>
<polygon fill="#c5e1a5" stroke="black" points="678.88,-142.38 565.38,-142.38 565.38,-91.62 678.88,-91.62 678.88,-142.38"/>
<text text-anchor="middle" x="622.12" y="-126.97" font-family="Arial" font-size="12.00">ObservationType</text>
<text text-anchor="middle" x="622.12" y="-112.72" font-family="Arial" font-size="12.00">name: Cholesterol</text>
<text text-anchor="middle" x="622.12" y="-98.47" font-family="Arial" font-size="12.00">loinc_code</text>
</g>
<!-- Observation&#45;&gt;ObservationType -->
<g id="edge5" class="edge">
<title>Observation&#45;&gt;ObservationType</title>
<path fill="none" stroke="black" d="M455.35,-117C483.19,-117 521.13,-117 553.69,-117"/>
<polygon fill="black" stroke="black" points="553.44,-120.5 563.44,-117 553.44,-113.5 553.44,-120.5"/>
<text text-anchor="middle" x="498.88" y="-119.5" font-family="Arial" font-size="10.00">IS_A</text>
</g>
<!-- SymptomType -->
<g id="node7" class="node">
<title>SymptomType</title>
<polygon fill="#c5e1a5" stroke="black" points="675.88,-73.25 568.38,-73.25 568.38,-36.75 675.88,-36.75 675.88,-73.25"/>
<text text-anchor="middle" x="622.12" y="-57.85" font-family="Arial" font-size="12.00">SymptomType</text>
<text text-anchor="middle" x="622.12" y="-43.6" font-family="Arial" font-size="12.00">name: Headache</text>
</g>
<!-- SymptomEpisode&#45;&gt;SymptomType -->
<g id="edge6" class="edge">
<title>SymptomEpisode&#45;&gt;SymptomType</title>
<path fill="none" stroke="black" d="M470.25,-44.71C496.88,-46.53 529.11,-48.73 556.93,-50.62"/>
<polygon fill="black" stroke="black" points="556.42,-54.1 566.64,-51.29 556.9,-47.11 556.42,-54.1"/>
<text text-anchor="middle" x="498.88" y="-49.66" font-family="Arial" font-size="10.00">IS_A</text>
</g>
<!-- Note -->
<g id="node8" class="node">
<title>Note</title>
<polygon fill="lightyellow" stroke="black" stroke-dasharray="5,2" points="220.75,-365.75 0,-365.75 0,-258.25 226.75,-258.25 226.75,-359.75 220.75,-365.75"/>
<polyline fill="none" stroke="black" stroke-dasharray="5,2" points="220.75,-365.75 220.75,-359.75"/>
<polyline fill="none" stroke="black" stroke-dasharray="5,2" points="226.75,-359.75 220.75,-359.75"/>
<text text-anchor="middle" x="113.38" y="-350.35" font-family="Arial" font-size="12.00">Critical Pattern:</text>
<text text-anchor="middle" x="113.38" y="-336.1" font-family="Arial" font-size="12.00">CypherAgent ALWAYS queries</text>
<text text-anchor="middle" x="113.38" y="-321.85" font-family="Arial" font-size="12.00">Instance nodes first (patient&#45;specific),</text>
<text text-anchor="middle" x="113.38" y="-307.6" font-family="Arial" font-size="12.00">then traverses to Type nodes (shared).</text>
<text text-anchor="middle" x="113.38" y="-279.35" font-family="Arial" font-size="12.00">Never query Type nodes directly</text>
<text text-anchor="middle" x="113.38" y="-265.1" font-family="Arial" font-size="12.00">to prevent data leakage across patients.</text>
</g>
</g>
</svg>
